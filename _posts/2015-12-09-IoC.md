
---
layout: post
title: IoC란 무엇인가 ? 
---

##IoC( Inversion of Control ) 이해하기

Spring은 IoC 컨테이너라고들 한다. IoC가 도대체 무엇일까 ?

일반적인 프로그래밍 흐름에서는 클래스 A가 클래스 B를 이용한다면, 클래스 A가 클래스 B를 직접 생성하고 관리하며 사용할 것이다.
IoC 메커니즘은 이렇게 클래스 B를 생성하고 관리하는 로직을 컨테이너란 놈에게 맡기고, A 클래스는 자신의 로직만 신경쓰는 메커니즘이다.

이런 개념으로 수많은 예제와 정의를 보아도 IoC를 이해하기는 쉽지 않을 것이다.

####그래서 아래와 같은 비유를 준비했다.

내가 공항에서 친구를 기다린다고 하자. 친구가 오면 발권을 하고 같이 비행기를 탈 것이다.

IoC가 적용되지 않은 일반적인 흐름의 프로그래밍 로직을 이 경우에 빚대면 나는 친구가 어떤 교통수단을 이용해서 올 지 정해준다. 
그리고 교통수단에 따라서 내가 어디서 기다려야되는지 결정되고 전체적인 동선이 바뀐다.

이렇게 나 자신이 내가 사용할, 영향을 받을 모든 조건을 제어한다면 변경 사항이 있을 때 마다 수 많은 변화를 해야할 것이다.

이런 제어를 다른 객체에게 맡기고, 나는 공항 5번 게이트에서 친구가 온다는 것만 알고있으면 친구가 무엇을 타고 오던 나는 마이웨이를 갈 수있다.

친구가 택시를 타고 오던지, 버스를 타던지 5번 게이트로 온다는 사실이 있고, 나는 5번 게이트에서 있으면 친구를 만난다는 것을 알면 된다.

####이런 현실 세계 개념을 그대로 프로그램으로 녹여내 보자.

클래스 A가 사용하는 클래스 B를 생성하고 제어하는 로직을 외부 컨테이너에게 맡기고, 클래스 A는 그저 클래스 B가 반환하는 결과만 받고 마이웨이 로직을 변경없이 실행할 수 있다.

이런 제어를 직접 가지고 컨트롤해주는 것이 IoC프레임워크이다.

클래스 A는 클래스 B가 확장되거나 변경되어도 자기 자신의 로직은 변하지 않는다.
이것이 확장에는 열려있고, 변경에는 닫혀있는 개방 폐쇄 원칙(OCP)이다.

즉, IoC는 OCP를 보장해준다. 이 밖에도 IoC로 인해 성립되는 객체지향적 패턴과 원칙들이 있는데 자세한 내용은 다음 블로그들의 내용을 참고하자.

[템플릿 메소드 패턴](http://egloos.zum.com/iilii/v/3806897)
[IoC란 무엇인가](http://www.javajigi.net/pages/viewpage.action?pageId=535)